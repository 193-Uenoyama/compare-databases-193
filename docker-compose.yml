version: '3.7'

services:
  node-server:
    build: 
      context: "./container/node-server/"
    image: compare-databases-193_node-server
    container_name: compare-databases-193_node-server
    ports:
      - "8000:8000"
    volumes:
      - ./src/response-api:/home/response-api
      - ./logs:/home/logs/
    environment:
      LOG_PATH: "/home/logs/new/"
      PATH: "${CD_SERVER_PATH}"
    user: "${CD_UID}:${CD_GID}"
    tty: true

  node-client:
    build: 
      context: "./container/node-client/"
    image: compare-databases-193_node-client
    container_name: compare-databases-193_node-client
    ports:
      - "3000:3000"
    volumes:
      - ./src/request-page:/home/request-page
      - ./logs:/home/logs/
    environment:
      LOG_PATH: "/home/logs/"
      PATH: "${CD_CLIENT_PATH}"
    user: "${CD_UID}:${CD_GID}"
    tty: true

  db:
    container_name: compare-databases-193_db 
